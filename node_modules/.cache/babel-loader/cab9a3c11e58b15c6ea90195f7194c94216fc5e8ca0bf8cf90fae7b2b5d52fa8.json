{"ast":null,"code":"var _jsxFileName = \"C:\\\\coding\\\\react-teamproject-eattogether\\\\src\\\\components\\\\CreateRoom.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport '../styles/CreateRoom.css';\nimport axios from 'axios';\nimport { JSON_SERVER } from '../JsonConfig';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CreateRoom({\n  placeid,\n  setIsCreateRoom,\n  userid\n}) {\n  _s();\n  const [roomName, setRoomName] = useState('test');\n  const [maxPeople, setMaxPeople] = useState(3);\n  const [RVDate, setRVDate] = useState('0000. 00. 00. 오전 0:00:00');\n  const [resBody, setResBody] = useState({});\n  const [isRoomCreated, setIsRoomCreated] = useState(false);\n  const localUser = JSON.parse(localStorage.getItem('user'));\n  const navigate = useNavigate();\n  async function postCreateRoom() {\n    const roomInfo = {\n      placeid: parseInt(placeid),\n      hostid: localUser.id,\n      roomname: roomName,\n      maxpeople: maxPeople,\n      date: RVDate\n    };\n    const res = await axios.post(JSON_SERVER + `/room`, roomInfo);\n    setResBody(res.data);\n    setIsRoomCreated(true);\n  }\n  function postJoinerInfo() {\n    const tempUserId = localUser.id;\n    const userInfo = {\n      roomid: resBody.id,\n      userid: tempUserId // 변경된 부분: userids -> userid\n    };\n    if (isRoomCreated) {\n      axios.post(JSON_SERVER + `/joiner`, userInfo);\n      alert('방 생성이 완료되었습니다');\n      navPage();\n    }\n  }\n  function navPage() {\n    navigate(`/Roominfomation/${resBody.id}`);\n  }\n  useEffect(() => {\n    postJoinerInfo();\n  }, [resBody]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-background\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-input-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"\\uBC29 \\uB9CC\\uB4E4\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-close-btn\",\n          onClick: () => {\n            setIsCreateRoom(false);\n          },\n          children: \"X\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body-input-name\",\n          children: \"\\uBC29 \\uC774\\uB984\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          onChange: e => {\n            setRoomName(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body-input-name\",\n          children: \"\\uC778\\uC6D0 \\uC218\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          onChange: e => {\n            setMaxPeople(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body-input-name\",\n          children: \"\\uC2DC\\uAC04\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"datetime-local\",\n          onChange: e => {\n            setRVDate(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-create-room-btn\",\n        onClick: () => {\n          postCreateRoom();\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"\\uBC29 \\uB9CC\\uB4E4\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(CreateRoom, \"jFDWBYsiqclSRvX2ccywRPD2r3w=\", false, function () {\n  return [useNavigate];\n});\n_c = CreateRoom;\nexport default CreateRoom;\nvar _c;\n$RefreshReg$(_c, \"CreateRoom\");","map":{"version":3,"names":["React","useEffect","useState","axios","JSON_SERVER","useNavigate","jsxDEV","_jsxDEV","CreateRoom","placeid","setIsCreateRoom","userid","_s","roomName","setRoomName","maxPeople","setMaxPeople","RVDate","setRVDate","resBody","setResBody","isRoomCreated","setIsRoomCreated","localUser","JSON","parse","localStorage","getItem","navigate","postCreateRoom","roomInfo","parseInt","hostid","id","roomname","maxpeople","date","res","post","data","postJoinerInfo","tempUserId","userInfo","roomid","alert","navPage","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","onChange","e","target","value","_c","$RefreshReg$"],"sources":["C:/coding/react-teamproject-eattogether/src/components/CreateRoom.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport '../styles/CreateRoom.css';\r\nimport axios from 'axios';\r\nimport { JSON_SERVER } from '../JsonConfig';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction CreateRoom({ placeid, setIsCreateRoom, userid }) {\r\n  const [roomName, setRoomName] = useState('test');\r\n  const [maxPeople, setMaxPeople] = useState(3);\r\n  const [RVDate, setRVDate] = useState('0000. 00. 00. 오전 0:00:00');\r\n  const [resBody, setResBody] = useState({});\r\n  const [isRoomCreated, setIsRoomCreated] = useState(false);\r\n  const localUser = JSON.parse(localStorage.getItem('user'));\r\n  const navigate = useNavigate();\r\n\r\n  async function postCreateRoom() {\r\n    const roomInfo = {\r\n      placeid: parseInt(placeid),\r\n      hostid: localUser.id,\r\n      roomname: roomName,\r\n      maxpeople: maxPeople,\r\n      date: RVDate,\r\n    };\r\n    const res = await axios.post(JSON_SERVER + `/room`, roomInfo);\r\n    setResBody(res.data);\r\n    setIsRoomCreated(true);\r\n  }\r\n  function postJoinerInfo() {\r\n    const tempUserId = localUser.id;\r\n    const userInfo = {\r\n      roomid: resBody.id,\r\n      userid: tempUserId, // 변경된 부분: userids -> userid\r\n    };\r\n    if (isRoomCreated) {\r\n      axios.post(JSON_SERVER + `/joiner`, userInfo);\r\n      alert('방 생성이 완료되었습니다');\r\n      navPage();\r\n    }\r\n  }\r\n  function navPage() {\r\n    navigate(`/Roominfomation/${resBody.id}`);\r\n  }\r\n  useEffect(() => {\r\n    postJoinerInfo();\r\n  }, [resBody]);\r\n  return (\r\n    <div className=\"modal-background\">\r\n      <div className=\"modal-input-container\">\r\n        <div className=\"modal-header\">\r\n          <div>방 만들기</div>\r\n          <div\r\n            className=\"modal-close-btn\"\r\n            onClick={() => {\r\n              setIsCreateRoom(false);\r\n            }}\r\n          >\r\n            X\r\n          </div>\r\n        </div>\r\n        <div className=\"modal-body\">\r\n          <div className=\"modal-body-input-name\">방 이름</div>\r\n          <input\r\n            type=\"text\"\r\n            onChange={(e) => {\r\n              setRoomName(e.target.value);\r\n            }}\r\n          ></input>\r\n          <div className=\"modal-body-input-name\">인원 수</div>\r\n          <input\r\n            type=\"number\"\r\n            onChange={(e) => {\r\n              setMaxPeople(e.target.value);\r\n            }}\r\n          ></input>\r\n          <div className=\"modal-body-input-name\">시간</div>\r\n          <input\r\n            type=\"datetime-local\"\r\n            onChange={(e) => {\r\n              setRVDate(e.target.value);\r\n            }}\r\n          ></input>\r\n        </div>\r\n        <div\r\n          className=\"modal-create-room-btn\"\r\n          onClick={() => {\r\n            postCreateRoom();\r\n          }}\r\n        >\r\n          <div>방 만들기</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CreateRoom;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}