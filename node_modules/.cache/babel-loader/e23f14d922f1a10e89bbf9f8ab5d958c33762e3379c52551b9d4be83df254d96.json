{"ast":null,"code":"var _jsxFileName = \"C:\\\\coding\\\\react-teamproject-eattogether\\\\src\\\\pages\\\\ETRVInfo.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport ETHeader from '../components/ETHeader';\nimport ETNav from '../components/ETNav';\nimport '../styles/ETRVInfo.css';\nimport axios from 'axios';\nimport { JSON_SERVER } from '../JsonConfig';\nimport RVInfoItem from '../components/RVInfoItem';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ETRVInfo() {\n  _s();\n  const [myRooms, setMyRooms] = useState([]);\n  const [joinerData, setJoinerData] = useState([]);\n  const localUser = JSON.parse(localStorage.getItem('user'));\n  async function fetchJoinerData() {\n    const joinerData = await axios.get(JSON_SERVER + `/joiner?userid=${localUser.id}`);\n    setJoinerData(joinerData.data);\n  }\n  async function fetchMyRoom() {\n    let tempRoomData = ''; // 변경: 빈 문자열로 초기화\n    let first = true; // 변경: first 변수 초기화\n\n    joinerData.map(e => {\n      if (first) {\n        tempRoomData += `id=${e.roomid}`;\n        first = false; // 변경: first 값을 false로 설정\n      } else {\n        tempRoomData += `&id=${e.roomid}`;\n      }\n    });\n    const roomData = await axios.get(JSON_SERVER + `/room?${tempRoomData}`);\n    if (joinerData.length > 0) {\n      setMyRooms(roomData.data);\n    }\n  }\n  function deleteMyRoom(id) {\n    const newArr = myRooms.filter(e => e.id !== id);\n    setMyRooms(newArr);\n  }\n  useEffect(() => {\n    console.log(myRooms);\n  }, [myRooms]);\n  useEffect(() => {\n    fetchMyRoom();\n  }, [joinerData]);\n  useEffect(() => {\n    fetchJoinerData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(ETHeader, {\n      name: \"\\uB0B4 \\uC608\\uC57D \\uB9AC\\uC2A4\\uD2B8\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"rvinfo-header\",\n      children: \"\\uD604\\uC7AC \\uC608\\uC57D \\uB9AC\\uC2A4\\uD2B8\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), myRooms.map((e, i) => {\n      return /*#__PURE__*/_jsxDEV(RVInfoItem, {\n        id: e.id,\n        roomname: e.roomname,\n        maxpeople: e.maxpeople,\n        placeid: e.placeid,\n        date: e.date,\n        deleteMyRoom: deleteMyRoom\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dumy\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ETNav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(ETRVInfo, \"5a4NEAYvoB8MfzqxYZgvlydofvU=\");\n_c = ETRVInfo;\nexport default ETRVInfo;\nvar _c;\n$RefreshReg$(_c, \"ETRVInfo\");","map":{"version":3,"names":["React","useEffect","useState","ETHeader","ETNav","axios","JSON_SERVER","RVInfoItem","jsxDEV","_jsxDEV","ETRVInfo","_s","myRooms","setMyRooms","joinerData","setJoinerData","localUser","JSON","parse","localStorage","getItem","fetchJoinerData","get","id","data","fetchMyRoom","tempRoomData","first","map","e","roomid","roomData","length","deleteMyRoom","newArr","filter","console","log","children","name","fileName","_jsxFileName","lineNumber","columnNumber","className","i","roomname","maxpeople","placeid","date","_c","$RefreshReg$"],"sources":["C:/coding/react-teamproject-eattogether/src/pages/ETRVInfo.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport ETHeader from '../components/ETHeader';\r\nimport ETNav from '../components/ETNav';\r\nimport '../styles/ETRVInfo.css';\r\nimport axios from 'axios';\r\nimport { JSON_SERVER } from '../JsonConfig';\r\nimport RVInfoItem from '../components/RVInfoItem';\r\n\r\nfunction ETRVInfo() {\r\n  const [myRooms, setMyRooms] = useState([]);\r\n  const [joinerData, setJoinerData] = useState([]);\r\n  const localUser = JSON.parse(localStorage.getItem('user'));\r\n\r\n  async function fetchJoinerData() {\r\n    const joinerData = await axios.get(\r\n      JSON_SERVER + `/joiner?userid=${localUser.id}`\r\n    );\r\n    setJoinerData(joinerData.data);\r\n  }\r\n  async function fetchMyRoom() {\r\n    let tempRoomData = ''; // 변경: 빈 문자열로 초기화\r\n    let first = true; // 변경: first 변수 초기화\r\n\r\n    joinerData.map((e) => {\r\n      if (first) {\r\n        tempRoomData += `id=${e.roomid}`;\r\n        first = false; // 변경: first 값을 false로 설정\r\n      } else {\r\n        tempRoomData += `&id=${e.roomid}`;\r\n      }\r\n    });\r\n    const roomData = await axios.get(JSON_SERVER + `/room?${tempRoomData}`);\r\n    if (joinerData.length > 0) {\r\n      setMyRooms(roomData.data);\r\n    }\r\n  }\r\n  function deleteMyRoom(id) {\r\n    const newArr = myRooms.filter((e) => e.id !== id);\r\n    setMyRooms(newArr);\r\n  }\r\n  useEffect(() => {\r\n    console.log(myRooms);\r\n  }, [myRooms]);\r\n  useEffect(() => {\r\n    fetchMyRoom();\r\n  }, [joinerData]);\r\n\r\n  useEffect(() => {\r\n    fetchJoinerData();\r\n  }, []);\r\n  return (\r\n    <div>\r\n      <ETHeader name=\"내 예약 리스트\" />\r\n      <h1 className=\"rvinfo-header\">현재 예약 리스트</h1>\r\n      {myRooms.map((e, i) => {\r\n        return (\r\n          <RVInfoItem\r\n            key={i}\r\n            id={e.id}\r\n            roomname={e.roomname}\r\n            maxpeople={e.maxpeople}\r\n            placeid={e.placeid}\r\n            date={e.date}\r\n            deleteMyRoom={deleteMyRoom}\r\n          />\r\n        );\r\n      })}\r\n      <hr />\r\n      <div className=\"dumy\"></div>\r\n      <ETNav />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ETRVInfo;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}